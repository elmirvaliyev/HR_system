<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Presentation</title>

<style>
body {
  margin:0;
  background:#111;
  overflow:hidden;
  font-family: Arial;
}

.slide {
  width:100vw;
  height:100vh;
  display:none;
}

.slide iframe {
  width:100%;
  height:100%;
  border:0;
  background:white;
}

.slide.active {
  display:block;
}

/* progress bar */
#progress {
  position:fixed;
  bottom:0;
  left:0;
  height:6px;
  background:#4cafef;
  width:0%;
  transition: width .3s;
  z-index:9999;
}

/* slide counter */
#counter {
  position:fixed;
  bottom:12px;
  right:20px;
  color:white;
  font-size:14px;
  opacity:.85;
  z-index:9999;
  background: rgba(0,0,0,.3);
  padding:4px 8px;
  border-radius:6px;
}
/* PRINT MODE */
body.print-mode {
  overflow:auto;
  background:white;
}

body.print-mode .slide {
  display:block !important;
  height:100vh;
  page-break-after: always;
}

body.print-mode #progress,
body.print-mode #counter {
  display:none;
}

</style>
</head>

<body tabindex="0">

<div class="slide active"><iframe src="slides/page1.html"></iframe></div>
<div class="slide"><iframe src="slides/page2.html"></iframe></div>
<div class="slide"><iframe src="slides/page3.html"></iframe></div>
<div class="slide"><iframe src="slides/page4.html"></iframe></div>
<div class="slide"><iframe src="slides/page5.html"></iframe></div>
<div class="slide"><iframe src="slides/page6.html"></iframe></div>
<div class="slide"><iframe src="slides/page7.html"></iframe></div>
<div class="slide"><iframe src="slides/page8.html"></iframe></div>
<div class="slide"><iframe src="slides/page9.html"></iframe></div>
<div class="slide"><iframe src="slides/page10.html"></iframe></div>
<div class="slide"><iframe src="slides/page11.html"></iframe></div>

<div id="progress"></div>
<div id="counter"></div>

<script>
const printMode = window.location.search.includes("print=1");

let current = 0;
const slides = document.querySelectorAll(".slide");
const progress = document.getElementById("progress");
const counter = document.getElementById("counter");

function updateUI(){
  const percent = ((current+1)/slides.length)*100;
  progress.style.width = percent + "%";
  counter.innerText = (current+1) + " / " + slides.length;
}

function show(n){
  if(printMode) return;
  slides[current].classList.remove("active");
  current = (n + slides.length) % slides.length;
  slides[current].classList.add("active");
  updateUI();
  window.focus();
}

function next(){ show(current+1); }
function prev(){ show(current-1); }

window.addEventListener("keydown", e => {

  if(["ArrowRight","PageDown"," "].includes(e.key)) {
    e.preventDefault();
    next();
  }

  if(["ArrowLeft","PageUp"].includes(e.key)) {
    e.preventDefault();
    prev();
  }

  if(e.key === "Home") show(0);
  if(e.key === "End") show(slides.length-1);

  // fullscreen toggle
  if(e.key.toLowerCase() === "f"){
    if(!document.fullscreenElement){
      document.documentElement.requestFullscreen();
    } else {
      document.exitFullscreen();
    }
  }

});


// mouse click → next slide
document.addEventListener("click", e => {
  next();
});


// iframe klikindən sonra fokus geri al
document.querySelectorAll("iframe").forEach(f => {
  f.addEventListener("load", () => {
    try {
      f.contentWindow.addEventListener("click", () => window.focus());
    } catch(err){}
  });
});


updateUI();
window.focus();
if(printMode){
  document.body.classList.add("print-mode");

  slides.forEach(s => s.classList.add("active"));

  // keyboard navigation söndür
  window.onkeydown = null;
}

</script>

</body>
</html>
